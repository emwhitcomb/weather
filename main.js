(()=>{const e=document.getElementById("city-input"),t=document.getElementById("city"),n=document.getElementById("unit-btn");async function o(e){const t=document.getElementById("temp-unit").innerHTML,n=await fetch(e,{mode:"cors"});400!==n.status?(function(){const e=document.getElementById("forecasts");for(;e.hasChildNodes();)e.removeChild(e.firstChild)}(),n.json().then((function(e){!function(e,t,n){document.getElementById("location").innerHTML=e.name+", "+e.region,document.getElementById("current-temp").innerHTML="F"==n?t.temp_f+"&deg":t.temp_c,document.getElementById("cond-icon").src="https:"+t.condition.icon,document.getElementById("cond-text").innerHTML=t.condition.text}(e.location,e.current,t),e.forecast.forecastday.forEach((e=>{!function(e,t){let n,o,a=e.day.totalprecip_in,d="https:"+e.day.condition.icon,i=e.day.condition.text;"F"==t?(n=e.day.maxtemp_f,o=e.day.mintemp_f):(n=e.day.maxtemp_c,o=e.day.mintemp_c);const c=document.getElementById("forecasts"),s=document.createElement("div");s.setAttribute("class","day-box");const m=document.createElement("span");m.setAttribute("class","box-header");const p=document.createElement("div");p.setAttribute("class","data-box"),c.appendChild(s),s.appendChild(m),s.appendChild(p);let l=new Date(e.date.replace(/-/g,"/"));m.innerHTML=`\n    ${l.toLocaleDateString("en-us",{weekday:"short",month:"short",day:"numeric"})}\n  `,p.innerHTML=`\n    <div class="hi-lo-temp">\n      <span class="high" id="today-hi">${n}&deg</span>\n      <span class="low" id="today-lo">${o}&deg</span>\n    </div>\n    <div class="hi-lo-label">\n      <span class="high">High</span>\n      <span class="low">Low</span>\n    </div>\n    <div id="precip">\n        <span>Precip:&nbsp&nbsp</span>\n        <span id="today-precip">${a}&nbsp in</span>\n    </div>\n    <img src="${d}" alt="today's condition">\n    <span class="cond-text">${i}</span>\n  `}(e,t)}))}))):alert("City not found!")}window.onload=()=>{document.getElementById("temp-unit").innerHTML="F",o("https://api.weatherapi.com/v1/forecast.json?key=989537b87bb849de8ce181346242602&q=Seattle&aqi=no&days=3")},n.addEventListener("click",(()=>{const e=document.getElementById("temp-unit"),t=document.getElementById("location");"F"==e.innerHTML?e.innerHTML="C":e.innerHTML="F",o(`https://api.weatherapi.com/v1/forecast.json?key=989537b87bb849de8ce181346242602&q=${t.textContent}&aqi=no&days=3`)})),e.addEventListener("submit",(e=>{e.preventDefault(),o(`https://api.weatherapi.com/v1/forecast.json?key=989537b87bb849de8ce181346242602&q=${t.value}&aqi=no&days=3`)}))})();